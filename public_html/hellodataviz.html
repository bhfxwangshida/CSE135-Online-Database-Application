<!DOCTYPE html>
<html>
<head>
  <!--Script Reference[1] -->
  <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
  <!-- Chart Placement[2] -->
  <div id="bar_chart"></div>

  <script>
    /////////jquery post & get///////////
    var activity_count;
    var performance_count;
    var static_count;
    $(document).ready(function(){
      $.get("https://felixwangsd.xyz/api/static", function(static_data, status){
      static_count = Object.keys(static_data).length;
      alert("Data: " + static_data + "\nStatus: " + status);
      })
      .fail(function(static_data, status) {
      alert( "error" + "\nData: " + static_data + "\nStatus: " + status);
      });
    });
    $(document).ready(function(){
      $.get("https://felixwangsd.xyz/api/performance", function(performance_data, status){
        performance_count = Object.keys(performance_data).length;
        alert("Data: " + performance_data + "\nStatus: " + status);
      })
      .fail(function(performance_data, status) {
      alert( "error" + "\nData: " + performance_data + "\nStatus: " + status);
      });
    });
    $(document).ready(function(){
      $.get("https://felixwangsd.xyz/api/static", function(activity_data, status){
        activity_count = Object.keys(activity_data).length;
      alert("Data: " + activity_data + "\nStatus: " + status);
      })
      .fail(function(activity_data, status) {
      alert( "error" + "\nData: " + activity_data + "\nStatus: " + status);
      });
    });

    let myConfig = {
      type: 'bar',
      title: {
        text: 'Data Basics',
        fontSize: 24,
      },
      legend: {
        draggable: true,
      },
      scaleX: {
        // Set scale label
        label: { text: 'data volume' },
        // Convert text on scale indices
        labels: [ 'static', 'performance', 'activity' ]
      },
      scaleY: {
        // Scale label with unicode character
        label: { text: 'sizes' }
      },
      plot: {
        // Animation docs here:
        // https://www.zingchart.com/docs/tutorials/styling/animation#effect
        animation: {
          effect: 'ANIMATION_EXPAND_BOTTOM',
          method: 'ANIMATION_STRONG_EASE_OUT',
          sequence: 'ANIMATION_BY_NODE',
          speed: 275,
        }
      },
      series: [
        {
          // Plot 1 values, linear data
          //values: [static_count,performance_count,activity_count],
          values: [35,42,33],
          text: 'Week 1',
        },
        {
          // Plot 2 values, linear data
          values: [35,42,33],
          text: 'Week 2'
        },
        {
          // Plot 2 values, linear data
          values: [15,22,13],
          text: 'Week 3'
        }
      ]
    };

    // Render Method[3]
    zingchart.render({
      id: 'bar_chart',
      data: myConfig,
    });
  </script>
</body>
</html>